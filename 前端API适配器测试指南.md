# å‰ç«¯APIé€‚é…å™¨æµ‹è¯•æŒ‡å—

## ğŸ“‹ æµ‹è¯•ç›®æ ‡
éªŒè¯å‰ç«¯APIé€‚é…å™¨ä¸åç«¯æœåŠ¡çš„å®Œæ•´è¿æ¥ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“å’Œæ ¼å¼è½¬æ¢æ­£ç¡®ã€‚

## ğŸ”§ æµ‹è¯•å‡†å¤‡

### 1. ç¯å¢ƒå¯åŠ¨
```bash
# åœ¨ datapresso_env è™šæ‹Ÿç¯å¢ƒä¸­
cd Datapresso_Desktop_App
python python-backend/test_data_filtering.py  # æµ‹è¯•æ ¸å¿ƒè¿‡æ»¤é€»è¾‘
python python-backend/test_api_endpoints.py   # æµ‹è¯•APIç«¯ç‚¹ï¼ˆéœ€è¦åç«¯è¿è¡Œï¼‰
```

### 2. å¯åŠ¨å®Œæ•´åº”ç”¨
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ¿€æ´» datapresso_env
npm run start
```

## ğŸ§ª APIé€‚é…å™¨æµ‹è¯•é¡¹ç›®

### æµ‹è¯•1ï¼šæ•°æ®è¿‡æ»¤APIè°ƒç”¨
**å‰ç«¯è°ƒç”¨è·¯å¾„**: `apiAdapter.ts` â†’ `IPC` â†’ `ipc-handlers.js` â†’ `åç«¯API`

**æµ‹è¯•æ­¥éª¤**:
1. åœ¨å‰ç«¯ç•Œé¢é€‰æ‹©æ•°æ®è¿‡æ»¤åŠŸèƒ½
2. é…ç½®è¿‡æ»¤æ¡ä»¶ï¼ˆåŸå¸‚=åŒ—äº¬ï¼Œå¹´é¾„>25ï¼‰
3. æ‰§è¡Œè¿‡æ»¤æ“ä½œ
4. éªŒè¯ç»“æœæ˜¾ç¤º

**éªŒè¯ç‚¹**:
- [x] è¯·æ±‚å‚æ•°æ­£ç¡®è½¬æ¢ (camelCase â†’ snake_case)
- [x] å“åº”æ•°æ®æ­£ç¡®è½¬æ¢ (snake_case â†’ camelCase)
- [x] é”™è¯¯ä¿¡æ¯æ­£ç¡®ä¼ é€’
- [x] å¼‚æ­¥ä»»åŠ¡çŠ¶æ€æ›´æ–°

### æµ‹è¯•2ï¼šLLM APIè°ƒç”¨
**æµ‹è¯•å†…å®¹**:
- ç®€å•æ–‡æœ¬ç”Ÿæˆ
- å¤šæ¨¡æ€è¾“å…¥ï¼ˆå¦‚æœæ”¯æŒï¼‰
- æ‰¹é‡å¤„ç†è¯·æ±‚
- æä¾›å•†åˆ‡æ¢

### æµ‹è¯•3ï¼šä»»åŠ¡ç®¡ç†
**æµ‹è¯•å†…å®¹**:
- ä»»åŠ¡åˆ›å»ºå’ŒçŠ¶æ€æŸ¥è¯¢
- è¿›åº¦æ›´æ–°æ˜¾ç¤º
- ä»»åŠ¡å–æ¶ˆæ“ä½œ
- é”™è¯¯å¤„ç†

## ğŸ” è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

### æ•°æ®è¿‡æ»¤åŠŸèƒ½æµ‹è¯•

#### æµ‹è¯•ç”¨ä¾‹1ï¼šåŸºç¡€è¿‡æ»¤
```javascript
// å‰ç«¯è°ƒç”¨ç¤ºä¾‹
const filterRequest = {
  data: [
    {id: 1, name: "Alice", age: 25, city: "Beijing"},
    {id: 2, name: "Bob", age: 30, city: "Shanghai"},
    {id: 3, name: "Charlie", age: 35, city: "Beijing"}
  ],
  filterConditions: [
    {
      field: "city",
      operation: "equals", 
      value: "Beijing",
      caseSensitive: true
    }
  ],
  combineOperation: "AND",
  limit: 10,
  offset: 0
};

// æœŸæœ›åç«¯æ¥æ”¶æ ¼å¼ï¼ˆsnake_caseï¼‰
{
  "data": [...],
  "filter_conditions": [
    {
      "field": "city",
      "operation": "equals",
      "value": "Beijing", 
      "case_sensitive": true
    }
  ],
  "combine_operation": "AND",
  "limit": 10,
  "offset": 0
}
```

#### æµ‹è¯•ç”¨ä¾‹2ï¼šå¼‚æ­¥è¿‡æ»¤
```javascript
// å¯åŠ¨å¼‚æ­¥ä»»åŠ¡
const asyncResult = await window.electronAPI.dataFiltering.asyncFilter(largeDataset);
console.log('ä»»åŠ¡ID:', asyncResult.taskId);

// æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
const taskStatus = await window.electronAPI.dataFiltering.getTaskResult(asyncResult.taskId);
console.log('ä»»åŠ¡çŠ¶æ€:', taskStatus.status);
```

## ğŸš¨ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šIPCé€šä¿¡å¤±è´¥
**ç—‡çŠ¶**: å‰ç«¯è°ƒç”¨APIæ—¶å‡ºç° "electronAPI is not defined"
**è§£å†³**:
1. æ£€æŸ¥ `preload.js` æ˜¯å¦æ­£ç¡®æš´éœ² API
2. ç¡®è®¤ `main.js` ä¸­ webPreferences.preload é…ç½®æ­£ç¡®
3. éªŒè¯å®‰å…¨ç­–ç•¥è®¾ç½®

### é—®é¢˜2ï¼šæ•°æ®æ ¼å¼è½¬æ¢é”™è¯¯
**ç—‡çŠ¶**: åç«¯æ”¶åˆ°çš„å‚æ•°åç§°ä¸æ­£ç¡®
**è§£å†³**:
1. æ£€æŸ¥ `apiAdapter.ts` ä¸­çš„ `toCamelCase`/`toSnakeCase` å‡½æ•°
2. éªŒè¯ `caseConverter.ts` å·¥å…·å‡½æ•°
3. ç¡®è®¤è¯·æ±‚/å“åº”æ•°æ®ç»“æ„

### é—®é¢˜3ï¼šé”™è¯¯å¤„ç†ä¸å½“
**ç—‡çŠ¶**: å‰ç«¯æ— æ³•æ˜¾ç¤ºåç«¯é”™è¯¯ä¿¡æ¯
**è§£å†³**:
1. æ£€æŸ¥ `ipc-handlers.js` ä¸­çš„é”™è¯¯æ•è·
2. éªŒè¯å‰ç«¯é”™è¯¯æç¤ºç»„ä»¶
3. ç¡®è®¤é”™è¯¯æ—¥å¿—è®°å½•

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### åŸºç¡€è¿æ¥æµ‹è¯•
- [ ] Electronåº”ç”¨æ­£å¸¸å¯åŠ¨
- [ ] Reactå‰ç«¯ç•Œé¢åŠ è½½
- [ ] Pythonåç«¯æœåŠ¡è¿è¡Œ
- [ ] APIæ–‡æ¡£å¯è®¿é—® (http://127.0.0.1:8000/docs)

### APIåŠŸèƒ½æµ‹è¯•  
- [ ] æ•°æ®è¿‡æ»¤ï¼šåŒæ­¥è¿‡æ»¤
- [ ] æ•°æ®è¿‡æ»¤ï¼šå¼‚æ­¥è¿‡æ»¤  
- [ ] æ•°æ®è¿‡æ»¤ï¼šä»»åŠ¡çŠ¶æ€æŸ¥è¯¢
- [ ] LLMè°ƒç”¨ï¼šåŸºç¡€æ–‡æœ¬ç”Ÿæˆ
- [ ] LLMè°ƒç”¨ï¼šæ‰¹é‡å¤„ç†
- [ ] ä»»åŠ¡ç®¡ç†ï¼šåˆ›å»º/æŸ¥è¯¢/åˆ é™¤

### æ•°æ®è½¬æ¢æµ‹è¯•
- [ ] å‰ç«¯ camelCase â†’ åç«¯ snake_case
- [ ] åç«¯ snake_case â†’ å‰ç«¯ camelCase  
- [ ] åµŒå¥—å¯¹è±¡è½¬æ¢
- [ ] æ•°ç»„æ•°æ®è½¬æ¢
- [ ] é”™è¯¯ä¿¡æ¯è½¬æ¢

### é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] ç½‘ç»œè¿æ¥å¼‚å¸¸
- [ ] åç«¯æœåŠ¡å¼‚å¸¸
- [ ] å‚æ•°éªŒè¯å¤±è´¥
- [ ] æƒé™æ£€æŸ¥å¤±è´¥
- [ ] è¶…æ—¶å¤„ç†

### æ€§èƒ½æµ‹è¯•
- [ ] å¤§æ•°æ®é›†è¿‡æ»¤ (1000+ æ¡è®°å½•)
- [ ] å¹¶å‘è¯·æ±‚å¤„ç†
- [ ] å†…å­˜ä½¿ç”¨ç›‘æ§
- [ ] å“åº”æ—¶é—´æµ‹é‡

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- æ‰€æœ‰æ ¸å¿ƒAPIéƒ½èƒ½æ­£å¸¸è°ƒç”¨
- æ•°æ®è½¬æ¢æ— è¯¯
- é”™è¯¯å¤„ç†å®Œå–„

### æ€§èƒ½è¦æ±‚
- APIå“åº”æ—¶é—´ < 2ç§’ï¼ˆå°æ•°æ®é›†ï¼‰
- å¼‚æ­¥ä»»åŠ¡çŠ¶æ€æ›´æ–°åŠæ—¶
- ç•Œé¢æ“ä½œæµç•…

### ç¨³å®šæ€§
- è¿ç»­æ“ä½œæ— å†…å­˜æ³„éœ²
- é”™è¯¯æ¢å¤èƒ½åŠ›è‰¯å¥½
- å¼‚å¸¸æƒ…å†µå¤„ç†æ­£ç¡®

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
## æµ‹è¯•æ‰§è¡ŒæŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2025-05-23
**æµ‹è¯•ç¯å¢ƒ**: Windows/macOS/Linux
**æµ‹è¯•äººå‘˜**: [å§“å]

### æµ‹è¯•ç»“æœæ¦‚è§ˆ
- é€šè¿‡: X/Y (XX%)
- å¤±è´¥: X/Y  
- è·³è¿‡: X/Y

### è¯¦ç»†æµ‹è¯•ç»“æœ
1. **æ•°æ®è¿‡æ»¤åŠŸèƒ½**
   - åŸºç¡€è¿‡æ»¤: âœ…/âŒ
   - å¼‚æ­¥è¿‡æ»¤: âœ…/âŒ
   - é”™è¯¯å¤„ç†: âœ…/âŒ

2. **LLM APIåŠŸèƒ½** 
   - æ–‡æœ¬ç”Ÿæˆ: âœ…/âŒ
   - æ‰¹é‡å¤„ç†: âœ…/âŒ
   
### å‘ç°çš„é—®é¢˜
1. [é—®é¢˜æè¿°]
   - ä¸¥é‡ç¨‹åº¦: é«˜/ä¸­/ä½
   - é‡ç°æ­¥éª¤: [è¯¦ç»†æ­¥éª¤]
   - æœŸæœ›ç»“æœ: [æè¿°]
   - å®é™…ç»“æœ: [æè¿°]

### å»ºè®®å’Œåç»­è¡ŒåŠ¨
- [å…·ä½“å»ºè®®]
- [ä¿®å¤è®¡åˆ’]
```

---

**æ›´æ–°æ—¥æœŸ**: 2025å¹´5æœˆ23æ—¥  
**ç‰ˆæœ¬**: 1.0